---
layout: default
title: Asztali K√∂rnyezetek
---

<div class="text-center mb-12">
    <h2 class="text-4xl sm:text-5xl font-extrabold text-white mb-6 tracking-tight">
        Tal√°ld meg a <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-fuchsia-500">t√∂k√©letes</span> k√∂rnyezetet.
    </h2>
    <p class="text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed">
        Jel√∂ld ki a sz√°modra fontos szempontokat! A sz≈±r√©s val√≥s id≈ëben friss√ºl.
    </p>
</div>

<div class="max-w-6xl mx-auto mb-10 flex flex-wrap justify-center gap-3">
    <button onclick="clearFilters()" id="clear-btn" class="px-5 py-2.5 rounded-full text-sm font-bold border transition-all duration-300 bg-darkbg-800 text-gray-400 border-darkbg-700 hover:bg-darkbg-700 hover:text-white hidden items-center gap-2">
        <span class="text-xs">‚úï</span> T√∂rl√©s
    </button>

    {% for cat in site.data.environments.categories %}
    <button 
        onclick="toggleFilter('{{ cat.id }}')" 
        id="btn-{{ cat.id }}"
        class="filter-btn px-5 py-2.5 rounded-full text-sm font-bold border transition-all duration-300 bg-darkbg-800 text-gray-300 border-darkbg-700 hover:border-gray-500 hover:text-white shadow-sm select-none relative group overflow-hidden"
        data-category="{{ cat.id }}">
        <span class="absolute inset-0 w-full h-full bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"></span>
        <span class="relative z-10">{{ cat.name }}</span>
    </button>
    {% endfor %}
</div>

<div class="bg-darkbg-800 rounded-2xl shadow-2xl border border-darkbg-700 overflow-hidden transition-all duration-500 relative backdrop-blur-sm bg-opacity-90">
    <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
            <thead>
                <tr class="bg-darkbg-900/50 border-b border-darkbg-700 text-xs uppercase tracking-wider text-gray-400 font-bold">
                    {% for header in site.data.environments.headers %}
                    <th class="p-5 min-w-[160px] whitespace-nowrap {% if forloop.first %}sticky left-0 bg-darkbg-900 z-10 border-r border-darkbg-700 shadow-[2px_0_5px_rgba(0,0,0,0.2)]{% endif %}">
                        {{ header.name }}
                    </th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody class="divide-y divide-darkbg-700/50" id="comparison-table">
                {% for row in site.data.environments.rows %}
                <tr class="table-row-item hover:bg-darkbg-700/40 transition-colors group" data-category="{{ row.category }}">
                    <td class="p-5 font-semibold text-gray-200 sticky left-0 bg-darkbg-800 group-hover:bg-darkbg-800/90 border-r border-darkbg-700 shadow-[2px_0_5px_rgba(0,0,0,0.2)]">
                        {{ row.feature }}
                        <span class="category-indicator inline-block w-1.5 h-1.5 rounded-full ml-2 mb-0.5" data-cat-id="{{ row.category }}"></span>
                    </td>
                    <td class="p-5 text-gray-400">{{ row.gnome }}</td>
                    <td class="p-5 text-gray-400">{{ row.kde }}</td>
                    <td class="p-5 text-gray-400">{{ row.xfce }}</td>
                    <td class="p-5 text-gray-400">
                        <span class="inline-flex items-center px-3 py-1 rounded-md text-xs font-bold bg-cyan-950/50 text-cyan-400 border border-cyan-900/50">
                            {{ row.tiling }}
                        </span>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div id="no-results" class="hidden p-12 text-center text-gray-500">
        <p class="text-xl font-semibold mb-2">Nincs tal√°lat üòï</p>
        <p>Pr√≥b√°lj meg kevesebb sz≈±r≈ët haszn√°lni.</p>
    </div>
</div>

<script>
    let selectedCategories = new Set();

    // --- SZ√çNT√âRK√âP ---
    // Itt defini√°ljuk, melyik kateg√≥ria milyen sz√≠nt kapjon aktiv√°l√°skor.
    // Haszn√°ljunk √©l√©nk, neon sz√≠neket a s√∂t√©t alaphoz.
    const colorMap = {
        // Teljes√≠tm√©ny: Neon Z√∂ld (Lime)
        'performance': { 
            activeClasses: ['bg-lime-500', 'text-black', 'border-lime-500', 'shadow-lime-500/50', 'shadow-lg'],
            inactiveClasses: ['bg-darkbg-800', 'text-gray-300', 'border-darkbg-700', 'shadow-sm']
        },
        // UX: Neon Ci√°n/K√©k
        'ux': { 
            activeClasses: ['bg-cyan-500', 'text-black', 'border-cyan-500', 'shadow-cyan-500/50', 'shadow-lg'],
            inactiveClasses: ['bg-darkbg-800', 'text-gray-300', 'border-darkbg-700', 'shadow-sm']
        },
        // Technikai: Neon Lila/Pink (Fuchsia)
        'tech': { 
            activeClasses: ['bg-fuchsia-500', 'text-white', 'border-fuchsia-500', 'shadow-fuchsia-500/50', 'shadow-lg'],
            inactiveClasses: ['bg-darkbg-800', 'text-gray-300', 'border-darkbg-700', 'shadow-sm']
        }
        // Ha √∫j kateg√≥ri√°t adsz hozz√° a YAML-ben, ide is fel kell venni!
    };

    // Indik√°tor p√∂tty√∂k sz√≠nez√©se a t√°bl√°zatban
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll('.category-indicator').forEach(indicator => {
            const catId = indicator.getAttribute('data-cat-id');
            if (colorMap[catId]) {
                // Kiszedj√ºk a h√°tt√©rsz√≠nt az activeClasses t√∂mbb≈ël (pl. bg-lime-500)
                const bgColorClass = colorMap[catId].activeClasses.find(cls => cls.startsWith('bg-'));
                indicator.classList.add(bgColorClass);
            }
        });
    });


    function toggleFilter(categoryId) {
        const btn = document.getElementById(`btn-${categoryId}`);
        const colors = colorMap[categoryId];

        if (!colors) return; // Ha nincs sz√≠n defini√°lva, ne csin√°ljon semmit

        if (selectedCategories.has(categoryId)) {
            // DEAKTIV√ÅL√ÅS
            selectedCategories.delete(categoryId);
            btn.classList.remove(...colors.activeClasses);
            btn.classList.add(...colors.inactiveClasses);
        } else {
            // AKTIV√ÅL√ÅS
            selectedCategories.add(categoryId);
            btn.classList.remove(...colors.inactiveClasses);
            btn.classList.add(...colors.activeClasses);
        }

        updateTable();
    }

    function clearFilters() {
        selectedCategories.clear();
        // Minden gomb vissza√°ll√≠t√°sa alap√°llapotba
        document.querySelectorAll('.filter-btn').forEach(btn => {
            const catId = btn.getAttribute('data-category');
            if (colorMap[catId]) {
                btn.classList.remove(...colorMap[catId].activeClasses);
                btn.classList.add(...colorMap[catId].inactiveClasses);
            }
        });
        updateTable();
    }

    function updateTable() {
        const rows = document.querySelectorAll('.table-row-item');
        const clearBtn = document.getElementById('clear-btn');
        let visibleCount = 0;

        if (selectedCategories.size > 0) {
            clearBtn.classList.remove('hidden');
            clearBtn.classList.add('inline-flex');
        } else {
            clearBtn.classList.add('hidden');
            clearBtn.classList.remove('inline-flex');
        }

        rows.forEach(row => {
            const rowCat = row.getAttribute('data-category');
            if (selectedCategories.size === 0 || selectedCategories.has(rowCat)) {
                row.style.display = '';
                visibleCount++;
            } else {
                row.style.display = 'none';
            }
        });

        const noResults = document.getElementById('no-results');
        if (visibleCount === 0) {
            noResults.classList.remove('hidden');
        } else {
            noResults.classList.add('hidden');
        }
    }
</script>
